var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function i(e){return"function"==typeof e}function r(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(e){return null==e?"":e}function a(e,t){e.appendChild(t)}function d(e,t,n){e.insertBefore(t,n||null)}function p(e){e.parentNode.removeChild(e)}function c(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function l(e){return document.createElement(e)}function u(e){return document.createTextNode(e)}function h(){return u(" ")}function y(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function m(e){return function(t){return t.preventDefault(),e.call(this,t)}}function f(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function g(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function b(e,t,n,o){e.style.setProperty(t,n,o?"important":"")}let w;function v(e){w=e}function S(){if(!w)throw new Error("Function called outside component initialization");return w}function k(e){S().$$.on_mount.push(e)}function M(){const e=S();return(t,n)=>{const o=e.$$.callbacks[t];if(o){const i=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);o.slice().forEach(t=>{t.call(e,i)})}}}const C=[],x=[],R=[],T=[],$=Promise.resolve();let A=!1;function P(e){R.push(e)}let E=!1;const z=new Set;function _(){if(!E){E=!0;do{for(let e=0;e<C.length;e+=1){const t=C[e];v(t),D(t.$$)}for(C.length=0;x.length;)x.pop()();for(let e=0;e<R.length;e+=1){const t=R[e];z.has(t)||(z.add(t),t())}R.length=0}while(C.length);for(;T.length;)T.pop()();A=!1,E=!1,z.clear()}}function D(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(P)}}const j=new Set;let O;function L(e,t){e&&e.i&&(j.delete(e),e.i(t))}function I(e,t,n,o){if(e&&e.o){if(j.has(e))return;j.add(e),O.c.push(()=>{j.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}}function N(e){e&&e.c()}function U(e,n,r){const{fragment:s,on_mount:a,on_destroy:d,after_update:p}=e.$$;s&&s.m(n,r),P(()=>{const n=a.map(t).filter(i);d?d.push(...n):o(n),e.$$.on_mount=[]}),p.forEach(P)}function G(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function W(e,t){-1===e.$$.dirty[0]&&(C.push(e),A||(A=!0,$.then(_)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function q(t,i,r,s,a,d,c=[-1]){const l=w;v(t);const u=i.props||{},h=t.$$={fragment:null,ctx:null,props:d,update:e,not_equal:a,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:n(),dirty:c,skip_bound:!1};let y=!1;if(h.ctx=r?r(t,u,(e,n,...o)=>{const i=o.length?o[0]:n;return h.ctx&&a(h.ctx[e],h.ctx[e]=i)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](i),y&&W(t,e)),n}):[],h.update(),y=!0,o(h.before_update),h.fragment=!!s&&s(h.ctx),i.target){if(i.hydrate){const e=function(e){return Array.from(e.childNodes)}(i.target);h.fragment&&h.fragment.l(e),e.forEach(p)}else h.fragment&&h.fragment.c();i.intro&&L(t.$$.fragment),U(t,i.target,i.anchor),_()}v(l)}class H{$destroy(){G(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var F,B,K=(function(e,t){e.exports=function(){var e=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},t=b,n=a,o=d,i=p,r=g,s=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e){for(var t,n=[],o=0,i=0,r="";null!=(t=s.exec(e));){var a=t[0],d=t[1],p=t.index;if(r+=e.slice(i,p),i=p+a.length,d)r+=d[1];else{r&&(n.push(r),r="");var c=t[2],u=t[3],h=t[4],y=t[5],m=t[6],f=t[7],g="+"===m||"*"===m,b="?"===m||"*"===m,w=c||"/",v=h||y||(f?".*":"[^"+w+"]+?");n.push({name:u||o++,prefix:c||"",delimiter:w,optional:b,repeat:g,pattern:l(v)})}}return i<e.length&&(r+=e.substr(i)),r&&n.push(r),n}function d(e){return p(a(e))}function p(t){for(var n=new Array(t.length),o=0;o<t.length;o++)"object"==typeof t[o]&&(n[o]=new RegExp("^"+t[o].pattern+"$"));return function(o){for(var i="",r=o||{},s=0;s<t.length;s++){var a=t[s];if("string"!=typeof a){var d,p=r[a.name];if(null==p){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to be defined')}if(e(p)){if(!a.repeat)throw new TypeError('Expected "'+a.name+'" to not repeat, but received "'+p+'"');if(0===p.length){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to not be empty')}for(var c=0;c<p.length;c++){if(d=encodeURIComponent(p[c]),!n[s].test(d))throw new TypeError('Expected all "'+a.name+'" to match "'+a.pattern+'", but received "'+d+'"');i+=(0===c?a.prefix:a.delimiter)+d}}else{if(d=encodeURIComponent(p),!n[s].test(d))throw new TypeError('Expected "'+a.name+'" to match "'+a.pattern+'", but received "'+d+'"');i+=a.prefix+d}}else i+=a}return i}}function c(e){return e.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function l(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function u(e,t){return e.keys=t,e}function h(e){return e.sensitive?"":"i"}function y(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var o=0;o<n.length;o++)t.push({name:o,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return u(e,t)}function m(e,t,n){for(var o=[],i=0;i<e.length;i++)o.push(b(e[i],t,n).source);return u(new RegExp("(?:"+o.join("|")+")",h(n)),t)}function f(e,t,n){for(var o=a(e),i=g(o,n),r=0;r<o.length;r++)"string"!=typeof o[r]&&t.push(o[r]);return u(i,t)}function g(e,t){for(var n=(t=t||{}).strict,o=!1!==t.end,i="",r=e[e.length-1],s="string"==typeof r&&/\/$/.test(r),a=0;a<e.length;a++){var d=e[a];if("string"==typeof d)i+=c(d);else{var p=c(d.prefix),l=d.pattern;d.repeat&&(l+="(?:"+p+l+")*"),i+=l=d.optional?p?"(?:"+p+"("+l+"))?":"("+l+")?":p+"("+l+")"}}return n||(i=(s?i.slice(0,-2):i)+"(?:\\/(?=$))?"),i+=o?"$":n&&s?"":"(?=\\/|$)",new RegExp("^"+i,h(t))}function b(t,n,o){return e(n=n||[])?o||(o={}):(o=n,n=[]),t instanceof RegExp?y(t,n):e(t)?m(t,n,o):f(t,n,o)}t.parse=n,t.compile=o,t.tokensToFunction=i,t.tokensToRegExp=r;var w,v="undefined"!=typeof document,S="undefined"!=typeof window,k="undefined"!=typeof history,M="undefined"!=typeof process,C=v&&document.ontouchstart?"touchstart":"click",x=S&&!(!window.history.location&&!window.location);function R(){this.callbacks=[],this.exits=[],this.current="",this.len=0,this._decodeURLComponents=!0,this._base="",this._strict=!1,this._running=!1,this._hashbang=!1,this.clickHandler=this.clickHandler.bind(this),this._onpopstate=this._onpopstate.bind(this)}function T(){var e=new R;function t(){return $.apply(e,arguments)}return t.callbacks=e.callbacks,t.exits=e.exits,t.base=e.base.bind(e),t.strict=e.strict.bind(e),t.start=e.start.bind(e),t.stop=e.stop.bind(e),t.show=e.show.bind(e),t.back=e.back.bind(e),t.redirect=e.redirect.bind(e),t.replace=e.replace.bind(e),t.dispatch=e.dispatch.bind(e),t.exit=e.exit.bind(e),t.configure=e.configure.bind(e),t.sameOrigin=e.sameOrigin.bind(e),t.clickHandler=e.clickHandler.bind(e),t.create=T,Object.defineProperty(t,"len",{get:function(){return e.len},set:function(t){e.len=t}}),Object.defineProperty(t,"current",{get:function(){return e.current},set:function(t){e.current=t}}),t.Context=E,t.Route=z,t}function $(e,t){if("function"==typeof e)return $.call(this,"*",e);if("function"==typeof t)for(var n=new z(e,null,this),o=1;o<arguments.length;++o)this.callbacks.push(n.middleware(arguments[o]));else"string"==typeof e?this["string"==typeof t?"redirect":"show"](e,t):this.start(e)}function A(e){if(!e.handled){var t=this,n=t._window;(t._hashbang?x&&this._getBase()+n.location.hash.replace("#!",""):x&&n.location.pathname+n.location.search)!==e.canonicalPath&&(t.stop(),e.handled=!1,x&&(n.location.href=e.canonicalPath))}}function P(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function E(e,t,n){var o=this.page=n||$,i=o._window,r=o._hashbang,s=o._getBase();"/"===e[0]&&0!==e.indexOf(s)&&(e=s+(r?"#!":"")+e);var a=e.indexOf("?");this.canonicalPath=e;var d=new RegExp("^"+P(s));if(this.path=e.replace(d,"")||"/",r&&(this.path=this.path.replace("#!","")||"/"),this.title=v&&i.document.title,this.state=t||{},this.state.path=e,this.querystring=~a?o._decodeURLEncodedURIComponent(e.slice(a+1)):"",this.pathname=o._decodeURLEncodedURIComponent(~a?e.slice(0,a):e),this.params={},this.hash="",!r){if(!~this.path.indexOf("#"))return;var p=this.path.split("#");this.path=this.pathname=p[0],this.hash=o._decodeURLEncodedURIComponent(p[1])||"",this.querystring=this.querystring.split("#")[0]}}function z(e,n,o){var i=this.page=o||_,r=n||{};r.strict=r.strict||i._strict,this.path="*"===e?"(.*)":e,this.method="GET",this.regexp=t(this.path,this.keys=[],r)}R.prototype.configure=function(e){var t=e||{};this._window=t.window||S&&window,this._decodeURLComponents=!1!==t.decodeURLComponents,this._popstate=!1!==t.popstate&&S,this._click=!1!==t.click&&v,this._hashbang=!!t.hashbang;var n=this._window;this._popstate?n.addEventListener("popstate",this._onpopstate,!1):S&&n.removeEventListener("popstate",this._onpopstate,!1),this._click?n.document.addEventListener(C,this.clickHandler,!1):v&&n.document.removeEventListener(C,this.clickHandler,!1),this._hashbang&&S&&!k?n.addEventListener("hashchange",this._onpopstate,!1):S&&n.removeEventListener("hashchange",this._onpopstate,!1)},R.prototype.base=function(e){if(0===arguments.length)return this._base;this._base=e},R.prototype._getBase=function(){var e=this._base;if(e)return e;var t=S&&this._window&&this._window.location;return S&&this._hashbang&&t&&"file:"===t.protocol&&(e=t.pathname),e},R.prototype.strict=function(e){if(0===arguments.length)return this._strict;this._strict=e},R.prototype.start=function(e){var t=e||{};if(this.configure(t),!1!==t.dispatch){var n;if(this._running=!0,x){var o=this._window.location;n=this._hashbang&&~o.hash.indexOf("#!")?o.hash.substr(2)+o.search:this._hashbang?o.search+o.hash:o.pathname+o.search+o.hash}this.replace(n,null,!0,t.dispatch)}},R.prototype.stop=function(){if(this._running){this.current="",this.len=0,this._running=!1;var e=this._window;this._click&&e.document.removeEventListener(C,this.clickHandler,!1),S&&e.removeEventListener("popstate",this._onpopstate,!1),S&&e.removeEventListener("hashchange",this._onpopstate,!1)}},R.prototype.show=function(e,t,n,o){var i=new E(e,t,this),r=this.prevContext;return this.prevContext=i,this.current=i.path,!1!==n&&this.dispatch(i,r),!1!==i.handled&&!1!==o&&i.pushState(),i},R.prototype.back=function(e,t){var n=this;if(this.len>0){var o=this._window;k&&o.history.back(),this.len--}else e?setTimeout((function(){n.show(e,t)})):setTimeout((function(){n.show(n._getBase(),t)}))},R.prototype.redirect=function(e,t){var n=this;"string"==typeof e&&"string"==typeof t&&$.call(this,e,(function(e){setTimeout((function(){n.replace(t)}),0)})),"string"==typeof e&&void 0===t&&setTimeout((function(){n.replace(e)}),0)},R.prototype.replace=function(e,t,n,o){var i=new E(e,t,this),r=this.prevContext;return this.prevContext=i,this.current=i.path,i.init=n,i.save(),!1!==o&&this.dispatch(i,r),i},R.prototype.dispatch=function(e,t){var n=0,o=0,i=this;function r(){var e=i.exits[o++];if(!e)return s();e(t,r)}function s(){var t=i.callbacks[n++];if(e.path===i.current)return t?void t(e,s):A.call(i,e);e.handled=!1}t?r():s()},R.prototype.exit=function(e,t){if("function"==typeof e)return this.exit("*",e);for(var n=new z(e,null,this),o=1;o<arguments.length;++o)this.exits.push(n.middleware(arguments[o]))},R.prototype.clickHandler=function(e){if(1===this._which(e)&&!(e.metaKey||e.ctrlKey||e.shiftKey||e.defaultPrevented)){var t=e.target,n=e.path||(e.composedPath?e.composedPath():null);if(n)for(var o=0;o<n.length;o++)if(n[o].nodeName&&"A"===n[o].nodeName.toUpperCase()&&n[o].href){t=n[o];break}for(;t&&"A"!==t.nodeName.toUpperCase();)t=t.parentNode;if(t&&"A"===t.nodeName.toUpperCase()){var i="object"==typeof t.href&&"SVGAnimatedString"===t.href.constructor.name;if(!t.hasAttribute("download")&&"external"!==t.getAttribute("rel")){var r=t.getAttribute("href");if((this._hashbang||!this._samePath(t)||!t.hash&&"#"!==r)&&!(r&&r.indexOf("mailto:")>-1)&&!(i?t.target.baseVal:t.target)&&(i||this.sameOrigin(t.href))){var s=i?t.href.baseVal:t.pathname+t.search+(t.hash||"");s="/"!==s[0]?"/"+s:s,M&&s.match(/^\/[a-zA-Z]:\//)&&(s=s.replace(/^\/[a-zA-Z]:\//,"/"));var a=s,d=this._getBase();0===s.indexOf(d)&&(s=s.substr(d.length)),this._hashbang&&(s=s.replace("#!","")),(!d||a!==s||x&&"file:"===this._window.location.protocol)&&(e.preventDefault(),this.show(a))}}}}},R.prototype._onpopstate=(w=!1,S?(v&&"complete"===document.readyState?w=!0:window.addEventListener("load",(function(){setTimeout((function(){w=!0}),0)})),function(e){if(w){var t=this;if(e.state){var n=e.state.path;t.replace(n,e.state)}else if(x){var o=t._window.location;t.show(o.pathname+o.search+o.hash,void 0,void 0,!1)}}}):function(){}),R.prototype._which=function(e){return null==(e=e||S&&this._window.event).which?e.button:e.which},R.prototype._toURL=function(e){var t=this._window;if("function"==typeof URL&&x)return new URL(e,t.location.toString());if(v){var n=t.document.createElement("a");return n.href=e,n}},R.prototype.sameOrigin=function(e){if(!e||!x)return!1;var t=this._toURL(e),n=this._window.location;return n.protocol===t.protocol&&n.hostname===t.hostname&&(n.port===t.port||""===n.port&&(80==t.port||443==t.port))},R.prototype._samePath=function(e){if(!x)return!1;var t=this._window.location;return e.pathname===t.pathname&&e.search===t.search},R.prototype._decodeURLEncodedURIComponent=function(e){return"string"!=typeof e?e:this._decodeURLComponents?decodeURIComponent(e.replace(/\+/g," ")):e},E.prototype.pushState=function(){var e=this.page,t=e._window,n=e._hashbang;e.len++,k&&t.history.pushState(this.state,this.title,n&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},E.prototype.save=function(){var e=this.page;k&&e._window.history.replaceState(this.state,this.title,e._hashbang&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},z.prototype.middleware=function(e){var t=this;return function(n,o){if(t.match(n.path,n.params))return n.routePath=t.path,e(n,o);o()}},z.prototype.match=function(e,t){var n=this.keys,o=e.indexOf("?"),i=~o?e.slice(0,o):e,r=this.regexp.exec(decodeURIComponent(i));if(!r)return!1;delete t[0];for(var s=1,a=r.length;s<a;++s){var d=n[s-1],p=this.page._decodeURLEncodedURIComponent(r[s]);void 0===p&&hasOwnProperty.call(t,d.name)||(t[d.name]=p)}return!0};var _=T(),D=_,j=_;return D.default=j,D}()}(B={path:F,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&B.path)}},B.exports),B.exports),V="Alien RPG Tools",J="15 Sep 2020 08:27:52",X="Any text taken from the game is used with permission and remains © of their respective owners.",Y="https://github.com/ScottMaclure/alienrpg/";function Q(t){let n;return{c(){n=l("div"),n.innerHTML="<h4>What&#39;s This?</h4> \n    <p>An <strong><i>unofficial</i></strong> web app to help Game Mothers with their prep. Click links and then buttons to generate random stuff. Results are in plaintext.</p>"},m(e,t){d(e,n,t)},p:e,i:e,o:e,d(e){e&&p(n)}}}var Z={starTypes:[{type:"Giant",description:"Huge, bright and cool star in a late stage of evolution.",brightness:"Type III"},{type:"Subgiant",description:"A large, bright star, exhausting its fuel.",brightness:"Type IV"},{type:"Main Sequence",description:"Small but incredibly common type of star.",brightness:"Type V"},{type:"White Dwarf",description:"A dead, burnt-out star, tiny and super-dense.",brightness:"Type DA"},{type:"Red Dwarf",description:"A red main sequence star, small and cool. Very common star.",brightness:"Type MV"},{type:"White Main Sequence",description:"White main sequence stars that burn hot and brightly.",brightness:"Type A0V"}],starLocations:[{key:"icsc",name:"The Independent Core System Colonies",colonyAllegianceKey:"icsc"},{key:"aja",name:"Anglo-Japanese Arm",colonyAllegianceKey:"aajm"},{key:"upp",name:"The Union of Progressive Peoples",colonyAllegianceKey:"upp"},{key:"arm",name:"The United Americas",colonyAllegianceKey:"aajm"},{key:"fro",name:"The Frontier",colonyAllegianceKeys:["icsc","aajm","upp"]}],systemObjects:[{enabled:!0,key:"gasGiant",type:"Gas Giant",number:"d6",modifiers:{default:"-1",Subgiant:"-2","White Dwarf":"-5"},features:["High Winds","Intense Radiation Fields","Rings","Single Super Storm","Small Gas Giant","Storms"],habitable:!1,surveyable:!0,planetSizeMod:0,moonSizeMod:-4},{enabled:!0,key:"terrestrialPlanet",type:"Terrestrial Planet",number:"d6",modifiers:{default:"","Red Dwarf":"-3","White Dwarf":"-3"},habitable:!0,surveyable:!0,planetSizeMod:0},{enabled:!0,key:"icePlanet",type:"Ice Planet",number:"d6",modifiers:{default:"+1",Subgiant:"",Giant:"","White Main Sequence":""},habitable:!0,surveyable:!0,planetSizeMod:-2},{enabled:!0,key:"asteroidBelt",type:"Asteroid Belt",number:"d6",modifiers:{default:"-3","White Dwarf":"-5",Subgiant:"-5"},features:["Bright and highly visible","Contains several large dwarf planets","Dust Belt","High orbital inclination","Intensely mineral rich asteroids","Very wide—covering several orbits"],habitable:!1,surveyable:!1,planetSizeMod:0}],iccCodes:["LV","MT","RF"],planetaryNames:["Arges","Aurora","Damnation","Doramin","Euphrates","Hamilton","Hannibal","Magdala","Moab","Monos","Nakaya","Napier","Nemesis","Nero","Nocturne","Phaeton","Prospero","Requiem","Solitude","Steropes","Tracatus"],planetSizes:[{"2d6":2,sizeKm:999,surfaceGravity:0,examples:"Ceres and other asteroids",atmosphereMod:"-6",colonySizeMod:-3},{"2d6":4,sizeKm:2e3,surfaceGravity:.1,examples:"Iapetus",atmosphereMod:-6,colonySizeMod:-3},{"2d6":6,sizeKm:4e3,surfaceGravity:.2,examples:"Luna, Europa",atmosphereMod:-6,colonySizeMod:-3},{"2d6":7,sizeKm:7e3,surfaceGravity:.5,examples:"Mars",atmosphereMod:-2,colonySizeMod:0},{"2d6":8,sizeKm:1e4,surfaceGravity:.7,examples:null,atmosphereMod:0,colonySizeMod:0},{"2d6":10,sizeKm:12500,surfaceGravity:1,examples:"Earth, Venus",atmosphereMod:0,colonySizeMod:0},{"2d6":11,sizeKm:15e3,surfaceGravity:1.3,examples:null,atmosphereMod:0,colonySizeMod:0},{"2d6":50,sizeKm:2e4,surfaceGravity:2,examples:"Super-Earth",atmosphereMod:0,colonySizeMod:0}],atmospheres:[{"2d6":3,type:"Thin",temperatureMod:-4,geosphereMod:-4,colonySizeMod:0,colonyMissionMod:0},{"2d6":6,type:"Breathable",temperatureMod:0,geosphereMod:0,colonySizeMod:1,colonyMissionMod:1},{"2d6":8,type:"Toxic",temperatureMod:0,geosphereMod:0,colonySizeMod:0,colonyMissionMod:-6},{"2d6":9,type:"Dense",temperatureMod:1,geosphereMod:-4,colonySizeMod:0,colonyMissionMod:0},{"2d6":10,type:"Corrosive",temperatureMod:6,geosphereMod:-4,colonySizeMod:-2,colonyMissionMod:-6},{"2d6":11,type:"Infiltrating",temperatureMod:6,geosphereMod:-4,colonySizeMod:-2,colonyMissionMod:-6},{"2d6":50,type:"Special",temperatureMod:0,geosphereMod:8,colonySizeMod:0,colonyMissionMod:0}],temperatures:[{"2d6":3,type:"Frozen",min:-100,max:-50,description:"Titan, Pluto, Enceladus",geosphereMod:-2,terrestrialPlanet:-2,icePlanet:0},{"2d6":5,type:"Cold",min:-50,max:0,description:"Alaska or Antarctica in winter",geosphereMod:0,terrestrialPlanet:0,icePlanet:0},{"2d6":7,type:"Temperate",min:0,max:30,description:"Boston or Paris",geosphereMod:0,terrestrialPlanet:0,icePlanet:0},{"2d6":10,type:"Hot",min:31,max:80,description:"Titan, Pluto, Enceladus",geosphereMod:-2,terrestrialPlanet:0,icePlanet:0},{"2d6":50,type:"Burning",min:80,max:200,description:"Mercury, Venus",geosphereMod:-4,terrestrialPlanet:0,icePlanet:0}],geospheres:[{"2d6":4,type:"Desert World",description:"No surface water",terrestrialPlanet:-3,icePlanet:0},{"2d6":6,type:"Arid World",description:"Global deserts and dry steppes, with some lakes and small seas",terrestrialPlanet:-2,icePlanet:0},{"2d6":8,type:"Temperate-Dry World",description:"Oceans cover 30–40% of the world's surface",terrestrialPlanet:0,icePlanet:0},{"2d6":10,type:"Temperate-Wet World",description:"Oceans cover 60–70% of the world's surface",terrestrialPlanet:0,icePlanet:0},{"2d6":11,type:"Wet World",description:"Global oceans with some islands and archipelagos",terrestrialPlanet:2,icePlanet:0},{"2d6":50,type:"Water World",description:"No dry land",terrestrialPlanet:3,icePlanet:0}],terrains:{terrestrialPlanet:[{d66:11,description:"Huge impact crater"},{d66:12,description:"Plains of silicon glass"},{d66:13,description:"Disturbing wind-cut rock formations"},{d66:14,description:"Permanent global dust-storm"},{d66:15,description:"Eerily colored dust plains"},{d66:16,description:"Active volcanic lava fields"},{d66:21,description:"Extensive salt flats"},{d66:22,description:"Dust-laden, permanent sunset sky"},{d66:23,description:"Ancient, blackened lava plains"},{d66:24,description:"Thermal springs and steam vents"},{d66:25,description:"Tall, gravel-strewn mountains"},{d66:26,description:"Howling winds that never stop"},{d66:31,description:"Daily fog banks roll in"},{d66:32,description:"Deep and wide rift valleys"},{d66:33,description:"Bizarrely eroded, wind-cut badlands"},{d66:34,description:"Steep-sided river gorges cut into soft rocks"},{d66:35,description:"Huge moon dominates day/night sky"},{d66:36,description:"World-spanning super canyon"},{d66:41,description:"Impressive river of great length"},{d66:42,description:"Oddly colored forests of alien vegetation"},{d66:43,description:"Mountains cut by sky-blue lakes"},{d66:44,description:"Sweeping plains of elephant grass"},{d66:45,description:"Highly toxic, but beautiful, plant-life"},{d66:46,description:"Small, bright, incredibly fast moons in orbit"},{d66:51,description:"Vast and complex river delta"},{d66:52,description:"Immense series of waterfalls"},{d66:53,description:"Endless mudflats with twisting water-ways"},{d66:54,description:"Impressive coastline of fjords and cliffs"},{d66:55,description:"Volcanoes, active & widespread"},{d66:56,description:"Impenetrable jungle"},{d66:61,description:"Dangerous tides—fast and loud"},{d66:62,description:"Vast, permanent super storm"},{d66:63,description:"Toxic sea creatures floating with the currents"},{d66:64,description:"Volcanic island chains"},{d66:65,description:"Permanently overcast with unrelenting rainfall"},{d66:100,description:"Mildly acidic oceans and rainfall"}],icePlanet:[{"2d6":2,description:"Huge impact crater"},{"2d6":3,description:"Geysers spew water into low orbit from long fissures"},{"2d6":4,description:"Deep fissures leading to a subsurface ocean"},{"2d6":5,description:"Dramatically colored blue-green ice fissures"},{"2d6":6,description:"Huge and active cryovolcano"},{"2d6":7,description:"Vast range of ice mountains"},{"2d6":8,description:"World-spanning super canyon"},{"2d6":9,description:"Disturbing, wind-cut ice formations"},{"2d6":10,description:"Black, dust-covered ice plains"},{"2d6":11,description:"Impressive ice escarpment of great length"},{"2d6":100,description:"Extensive dune-fields of methane sand grains"}]},colonySizes:[{"2d6":"7",size:"Start-Up",population:"3d6x10",missions:"1",colonyMissionMod:-1,orbitalComponenMod:0},{"2d6":"10",size:"Young",population:"3d6x100",missions:"d3–1",colonyMissionMod:0,orbitalComponenMod:1},{"2d6":"50",size:"Established",population:"2d6x1000",missions:"d3",colonyMissionMod:4,orbitalComponenMod:2}],colonyMissions:[{"2d6":2,type:"Terraforming"},{"2d6":3,type:"Research"},{"2d6":4,type:"Survey and Prospecting"},{"2d6":5,type:"Prison/Secluded or Exile"},{"2d6":6,type:"Mining and Refining"},{"2d6":7,type:"Mineral Drilling"},{"2d6":8,type:"Communications Relay"},{"2d6":9,type:"Military"},{"2d6":10,type:"Cattle Ranching/Logging"},{"2d6":11,type:"Corporate HQ"},{"2d6":50,type:"Government HQ"}],orbitalComponents:[{"2d6":4,type:"Little (perhaps wreckage) or nothing"},{"2d6":5,type:"Ring"},{"2d6":6,type:"Abandoned or Repurposed Satellite or Space Station"},{"2d6":8,type:"Moons",quantity:"d3",isMoon:!0},{"2d6":9,type:"Survey Station"},{"2d6":10,type:"Several Survey and Communications Satellites"},{"2d6":11,type:"Transfer Station"},{"2d6":50,multiRoll:"d6"}],factionOptions:[{d6:1,factions:[{strength:6}]},{d6:2,factions:[{strength:3},{strength:3}]},{d6:3,factions:[{strength:5},{strength:5}]},{d6:4,factions:[{strength:6},{strength:1}]},{d6:5,factions:[{strength:5},{strength:5},{strength:5}]},{d6:6,quantity:"d6",factions:[]}],colonyAllegiances:[{"3d6":4,icsc:"Kelland Mining",aajm:"Kelland Mining",upp:"UPP"},{"3d6":5,icsc:"GeoFund Investor",aajm:"Gustafsson Enterprise",upp:"UPP"},{"3d6":6,icsc:"Gustafsson Enterprise",aajm:"GeoFund Investor",upp:"UPP"},{"3d6":7,icsc:"Seegson",aajm:"Lasalle Bionational",upp:"UPP"},{"3d6":8,icsc:"No allegiance (independent)",aajm:"Weyland-Yutani",upp:"UPP"},{"3d6":11,icsc:"Jĭngtì Lóng Corporation",aajm:"Government representative",upp:"UPP"},{"3d6":12,icsc:"Chigusa Corporation",aajm:"Weyland-Yutani",upp:"UPP"},{"3d6":13,icsc:"Lasalle Bionational",aajm:"Seegson",upp:"UPP"},{"3d6":14,icsc:"Seegson",aajm:"Jĭngtì Lóng Corporation",upp:"UPP"},{"3d6":15,icsc:"Lorenz SysTech",aajm:"Chigusa Corporation",upp:"UPP"},{"3d6":16,icsc:"Gemini Exoplanet",aajm:"Gemini Exoplanet",upp:"UPP"},{"3d6":50,icsc:"Farside Mining",aajm:"Farside Mining",upp:"UPP"}],scenarioHooks:[{d66:11,description:"Pilfering and thefts force security to search rooms and lockers."},{d66:12,description:"Incidents of sabotage are increasing; security suspects an organized campaign."},{d66:13,description:"Colonial Administration is investigating the colony for illegal practices."},{d66:14,description:"Colonists returning to base report sighting a ‘monster’ on the surface."},{d66:15,description:"Petty crime, thefts and sabotage are rife. "},{d66:16,description:"Equipment failure has resulted in rationing at the colony. Tempers are frayed."},{d66:21,description:"Ship recently arrived with some kind of parasite that will soon spread through the colony."},{d66:22,description:"Stolen goods are on offer—cheap! "},{d66:23,description:"Unknown to you an old friend/flame is at the colony."},{d66:24,description:"Unknown to you an old enemy/rival is at the colony."},{d66:25,description:"A minor dignitary/notable is visiting in the company of several aides or guards."},{d66:26,description:"Part of the colony is off-limits temporarily - no reason given."},{d66:31,description:"Sudden restriction on free movement, unless you can find a way to avoid it."},{d66:32,description:"An emergency means repair parts and vital supplies are being shipped in from a nearby colony."},{d66:33,description:"Local crisis about to hit (storm, earthquake, riot, fire, etc.)"},{d66:34,description:"Period of solar flare—will cut communications for one Shift (D6 days if star type MV)."},{d66:35,description:"Spies from a neighboring colony have been discovered and arrested."},{d66:36,description:"Operations manager and his deputy are in conflict; everyone is choosing sides."},{d66:41,description:"PCs are invited to a formal dinner, meeting or party."},{d66:42,description:"The local colonists are not what they seem."},{d66:43,description:"A military ship is in orbit and the landing party is searching for someone/something."},{d66:44,description:"A rival colony or corporation is about to carry out an act of sabotage."},{d66:45,description:"The spaceport is currently quarantined."},{d66:46,description:"Security situation at the colony."},{d66:51,description:"A bunch of asteroid miners causing trouble while on leave."},{d66:52,description:"Mystery ship arrives at the spaceport."},{d66:53,description:"Civil unrest is about to break out."},{d66:54,description:"Colonists are trapped and need rescuing far from the settlement itself."},{d66:55,description:"Authorities have just locked down the colony after a riot."},{d66:56,description:"A religious leader is whipping up discontent."},{d66:61,description:"PCs will be harassed by angry locals. Why the anger? And why directed at off-world personnel?"},{d66:62,description:"An expedition is being assembled for a trek overland—the PCs are invited."},{d66:63,description:"An important colonial official is murdered, only an hour after you arrive."},{d66:64,description:"Several colonists have gone missing — a search is underway."},{d66:65,description:"A lifeboat has crashed on planet, and contained an interesting individual."},{d66:100,description:"The corporation or government paying for the colony keeps ordering teams out to search remote areas—but won’t say what they are searching for."}]},ee=e=>!(!e||"F"!==e.toString().toUpperCase()),te=e=>{if("string"!=typeof e)throw new Error("parseDieNotation must be called with a dice notation string");const t=e.toLowerCase().split("d");let n=0;const o={count:parseInt(t[0],10)||1,sides:ee(t[1])?"F":parseInt(t[1],10)};if(Number.isNaN(Number(t[1]))){const e=/[+-xX*<>]{1}[\dlL]{1,}/,r=t[1].match(e);if(r)if("string"==typeof(i=r[0])&&/[xX*]{1}[\d]{1,}/.test(i))o.multiply=!0,n=parseInt(r[0].substring(1),10);else if((e=>!(!e||"-L"!==e.toString().toUpperCase()))(r[0]))n=0,o.dropLow=!0;else if((e=>!(!e||!/[<>]{1}[\d]{1,}/.test(e)))(r[0])){const e=r[0].charAt(0);o.success=">"===e?1:-1,n=parseInt(r[0].substring(1),10)}else n=parseInt(r[0],10)}var i;return o.mod=n,o},ne=(e,t=Math.random)=>{if(!ee(e)&&!Number.isInteger(e))throw new Error("rollDie must be called with an integer or F");return ee(e)?Math.ceil(2*t())-1:Math.ceil(t()*(e-1)+1)};const oe=(e,t)=>{const{mod:n,multiply:o,dropLow:i,success:r}=t;let s=[...e],a=0;return i&&(s=s.sort((e,t)=>e-t)).shift(),r?s.forEach(e=>{(r<0&&e<=n||r>0&&e>=n)&&(a+=1)}):(s.forEach(e=>{a+=e}),o?a*=n:n&&(a+=n)),a};var ie=(e,t=Math.random)=>{const{count:n,sides:o,mod:i,multiply:r,dropLow:s,success:a}=te(e),d=[];for(let e=0;e<n;e+=1){const e=ne(o,t);d.push(e)}return{results:d,total:oe(d,{mod:i,multiply:r,dropLow:s,success:a})}};const re=(e,t=0)=>{const n=ae(t);for(const t of e)if(n<=t.d66)return t;throw`Couldn't find a random d66 item for length ${e.length} array.`},se=(e,t,n=0)=>{let o=ie(t+" "+n).total;for(const n of e)if(o<=n[t])return n;throw`Couldn't find a random ${t} item for length ${e.length} array.`},ae=(e=0)=>{let t=ie("d6").total+e;t=t<1?1:t,t=t>6?6:t;let n=ie("d6").total;return parseInt(""+t+n,10)};var de=(e,t,n)=>e.find(e=>e[t]===n),pe=e=>e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"),ce=(e,t=0)=>se(e,"2d6",t),le=(e,t=0)=>se(e,"3d6",t),ue=e=>e[Math.floor(Math.random()*e.length)],he=(e,t=0)=>se(e,"d6",t),ye=re,me=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,fe=(e,t)=>{let n=null,o=!1;for(;!o;)n=re(e),o=!t.includes(n);return n},ge=e=>{try{return ie(e).total}catch(t){throw new Error(`roll fail, rollString=${e}, err=${t}`)}},be=(e,t)=>{const n=e.modifiers[t]?e.modifiers[t]:e.modifiers.default,o=""+e.number+n,i=ie(o);return i.total<0?0:i.total};const we=e=>ue(e.starTypes),ve=(e,t)=>{t.systemObjects=[];let n=t.starType.type;for(const o of e.systemObjects)if(o.enabled){let i=be(o,n);for(let n=0;n<i;n++)t.systemObjects.push(Se(e,o))}},Se=(e,t)=>{let n=t.features?ue(t.features):null,o={key:t.key,type:t.type,feature:n,habitable:t.habitable,surveyable:t.surveyable,isColonized:!1,isSurveyed:t.surveyable&&1===me(0,1),planetSizeMod:t.planetSizeMod,orbitalComponents:[],colonies:[]};if("gasGiant"===o.key){let n=ge("d6+4"),i=JSON.parse(JSON.stringify(de(e.systemObjects,"key","terrestrialPlanet")));i.type="Gas Giant Moon",i.planetSizeMod=t.moonSizeMod;for(let t=0;t<n;t++){let t=Se(e,i);t.isMoon=!0,t.isGasGiantMoon=!0,o.orbitalComponents.push(t)}}return o},ke=(e,t,n)=>{let o=!1;for(;!o;){let n=ue(t.systemObjects);if("gasGiant"===n.key){n.isSurveyed=!0;let t=ue(n.orbitalComponents);Me(e,t),o=!0}else n.habitable&&(Me(e,n),o=!0)}},Me=(e,t)=>{t.isColonized=!0,t.isSurveyed=!0,t.name=ue(e.planetaryNames)},Ce=(e,t)=>{let n=[];for(let o of t.systemObjects)if(xe(JSON.parse(JSON.stringify(e)),t,o,n),"gasGiant"===o.key)for(let i of o.orbitalComponents)xe(JSON.parse(JSON.stringify(e)),t,i,n)},xe=(e,t,n,o)=>{switch(n.name=n.isColonized?ue(e.planetaryNames):n.isSurveyed?((e,t)=>{let n=null,o=!1;for(;!o;)n=ue(e.iccCodes)+"-"+me(111,999),t.includes(n)||(o=!0,t.push(n));return n})(e,o):null,n.planetSize=ce(e.planetSizes,n.planetSizeMod),n.key){case"gasGiant":n.atmosphere=e.atmospheres[e.atmospheres.length-2],n.temperature=ce(e.temperatures,n.atmosphere.temperatureMod);break;case"icePlanet":n.atmosphere=ce(e.atmospheres,n.planetSize.atmosphereMod),n.temperature=e.temperatures[0];break;case"asteroidBelt":n.atmosphere=e.atmospheres[0],n.temperature=ce(e.temperatures,n.atmosphere.temperatureMod);break;case"terrestrialPlanet":n.atmosphere=ce(e.atmospheres,n.planetSize.atmosphereMod),n.temperature=ce(e.temperatures,n.atmosphere.temperatureMod);break;default:throw new Error(`Unknown world key=${n.key}, aborting.`)}if(n.temperature.average=me(n.temperature.min,n.temperature.max),n.habitable){const t=n.atmosphere.geosphereMod+n.temperature.geosphereMod;if(n.geosphere=ce(e.geospheres,t),"icePlanet"===n.key)n.terrain=ce(e.terrains[n.key]);else{const t=n.geosphere[n.key]+n.temperature[n.key];n.terrain=ye(e.terrains[n.key],t)}}if(n.isColonized){const o=Te(),i=n.planetSize.colonySizeMod+n.atmosphere.colonySizeMod;for(let r=0;r<o;r++){let o={name:"Colony "+(r+1)};const s=le(e.colonyAllegiances);o.allegiance=s[t.starLocation.colonyAllegianceKey],o.colonySize=JSON.parse(JSON.stringify(ce(e.colonySizes,i))),o.colonySize.populationAmount=ge(o.colonySize.population),o.colonySize.missions.toLowerCase().includes("d")?o.colonySize.missionsAmount=ge(o.colonySize.missions):o.colonySize.missionsAmount=parseInt(o.colonySize.missions),o.missions=[];const a=n.atmosphere.colonyMissionMod+o.colonySize.colonyMissionMod;let d=[];for(let t=0;t<o.colonySize.missionsAmount;t++){let t="",n=!1;for(;!n;)t=ce(e.colonyMissions,a),n=!d.includes(t.type);d.push(t.type),o.missions.push(t)}if(!n.isGasGiantMoon){let t=JSON.parse(JSON.stringify(ce(e.orbitalComponents,o.colonySize.orbitalComponenMod)));if(t.multiRoll){const i=ge(t.multiRoll);for(let t=0;t<i;t++){let i=JSON.parse(JSON.stringify(ce(e.orbitalComponents,o.colonySize.orbitalComponenMod)));i.multiRoll?t--:(i.owner=o.name,Re(i),n.orbitalComponents.push(i))}}else t.owner=o.name,Re(t),n.orbitalComponents.push(t)}const p=JSON.parse(JSON.stringify(he(e.factionOptions)));if(p.quantity){const e=ge(p.quantity);for(let t=0;t<e;t++)p.factions.push({strength:ge("d6")})}o.factions=p.factions,n.colonies.push(o)}n.scenarioHook=ye(e.scenarioHooks)}else if("gasGiant"===n.key);else{let e={type:"Moons",quantity:"d3-1",isMoon:!0};Re(e),n.orbitalComponents.push(e)}},Re=e=>{e.quantity&&(e.quantityAmount=ge(e.quantity),e.type=e.quantityAmount+" "+e.type)},Te=()=>ge("2d6")>=10?2:1;var $e=(e,t={})=>{let n={};if(t.starLocation&&"ran"!==t.starLocation?n.starLocation=de(e.starLocations,"key",t.starLocation):n.starLocation=ue(e.starLocations),n.starLocation.colonyAllegianceKeys&&(n.starLocation.colonyAllegianceKey=ue(n.starLocation.colonyAllegianceKeys)),n.starType=we(e),ve(e,n),0===n.systemObjects.length)throw new Error("Failed to generate any system objects.");return ke(e,n),Ce(e,n),n.systemObjects.sort((e,t)=>t.temperature.average-e.temperature.average),n};const Ae="  ",Pe=(e,t,n)=>{let o=[];for(const[i,r]of e.entries())o.push(ze("#"+(i+1),r,t)),(r.isColonized||Ee(r)||r.isSurveyed&&n.showSurveyedDetails)&&o.push(De(r,n,t+"  "));return o.join("\n")},Ee=e=>{if("gasGiant"!==e.key)return!1;for(let t of e.orbitalComponents)if(t.isColonized)return!0;return!1},ze=(e,t,n)=>{let o=[`${n}${(""+e).padStart(2,0)}: `];return o.push(t.type),o.push(t.name?` "${t.name}"`:" (Unsurveyed)"),o.push(t.feature?", "+t.feature:""),o.push(t.isColonized?", "+t.geosphere.type:""),o.push(_e(t)),o.join("")},_e=e=>{let t=0;for(const n of e.orbitalComponents)n.isMoon&&(t+=n.quantityAmount||1);return 0==t?"":1==t?`, ${t} moon`:`, ${t} moons`},De=(e,t,n)=>{let o=[];return o.push(`${n}Planet Size:  ${pe(e.planetSize.sizeKm)} km, ${e.planetSize.surfaceGravity} G${e.planetSize.examples?" (e.g. "+e.planetSize.examples+")":""}`),o.push(`${n}Atmosphere:   ${e.atmosphere.type}`),o.push(`${n}Temperature:  ${e.temperature.type}, ${e.temperature.average}°C average (e.g. ${e.temperature.description})`),e.habitable&&(o.push(`${n}Geosphere:    ${e.geosphere.type}, ${e.geosphere.description}`),o.push(`${n}Terrain:      ${e.terrain.description}`)),e.orbitalComponents.length>0&&(e.isColonized||Ee(e))&&o.push(Le(e,t,n,"     ")),e.isColonized&&(o.push(`${n}Hook:         ${e.scenarioHook.description}`),o.push(je(e,n))),o.join("\n")},je=(e,t)=>{let n=[],o=t+Ae;for(const[i,r]of e.colonies.entries())n.push(`${t}Colony #${i+1}:`),n.push(`${o}Allegiance: ${r.allegiance}`),n.push(`${o}Size:       ${r.colonySize.size}, ${pe(r.colonySize.populationAmount)} pax`),n.push(Oe(r.missions,o,"   ")),n.push(Ne(r.factions,o,"   "));return n.join("\n")},Oe=(e,t,n)=>{let o=[];for(const[t,n]of e.entries())o.push(""+n.type);return`${t}Missions:${n}`+o.join(", ")},Le=(e,t,n,o)=>{let i=[];if("gasGiant"===e.key){for(const[o,r]of e.orbitalComponents.entries())i.push("\n"),i.push(ze("Moon #"+(o+1),r,n+Ae)),(r.isColonized||r.isSurveyed&&t.showSurveyedDetails)&&(i.push("\n"),i.push(De(r,t,n+Ae+Ae)));return n+"Orbitals:"+i.join("")}if(e.orbitalComponents.length>0){for(const t of e.orbitalComponents)i.push(`${t.type}${t.owner?" ("+t.owner+")":""}`);return`${n}Orbitals:${o}`+i.join(", ")}return""},Ie=["weak","balanced","balanced","competing","competing","dominant"],Ne=(e,t,n)=>{let o={weak:0,balanced:0,competing:0,dominant:0};for(const t of e)o[Ie[t.strength-1]]++;let i=[];for(const[e,t]of Object.entries(o))t>0&&i.push(`${t} ${e}`);return`${t}Factions:${n}`+i.join(", ")};var Ue=(e,t={})=>{let n=Ae;return`Star System:\n  Location: ${e.starLocation.name} (${e.starLocation.colonyAllegianceKey})\n  Type:     ${e.starType.type}, ${e.starType.brightness}: ${e.starType.description}\nPlanetary Bodies (${e.systemObjects.length}):\n${Pe(e.systemObjects,n,t)}\n`};function Ge(e,t,n){const o=e.slice();return o[9]=t[n],o}function We(e){let t,n,i,r,s,c,m,g,b=e[9].name+"";return{c(){t=l("label"),n=l("input"),r=h(),s=u(b),c=h(),f(n,"type","radio"),n.__value=i=e[9].key,n.value=n.__value,e[7][0].push(n)},m(o,i){d(o,t,i),a(t,n),n.checked=n.__value===e[0].starLocation,a(t,r),a(t,s),a(t,c),m||(g=[y(n,"click",e[3]),y(n,"change",e[6])],m=!0)},p(e,t){1&t&&(n.checked=n.__value===e[0].starLocation)},d(i){i&&p(t),e[7][0].splice(e[7][0].indexOf(n),1),m=!1,o(g)}}}function qe(t){let n,i,r,s,m,g,w,v,S,k,M,C,x,R,T,$,A,P=t[1],E=[];for(let e=0;e<P.length;e+=1)E[e]=We(Ge(t,P,e));return{c(){n=l("div"),i=l("form"),r=l("fieldset"),s=l("legend"),s.textContent="Star System Options",m=h(),g=l("div"),g.textContent="Output Options",w=h(),v=l("div"),S=l("label"),k=l("input"),M=u(" Show surveyed details"),C=h(),x=l("div"),x.textContent="Star System Location",R=h(),T=l("div");for(let e=0;e<E.length;e+=1)E[e].c();f(g,"class","subTitle svelte-1hhmr6j"),f(k,"type","checkbox"),f(x,"class","subTitle svelte-1hhmr6j"),b(n,"display",!1===t[0].showOptions?"none":"block")},m(e,o){d(e,n,o),a(n,i),a(i,r),a(r,s),a(r,m),a(r,g),a(r,w),a(r,v),a(v,S),a(S,k),k.checked=t[0].showSurveyedDetails,a(S,M),a(r,C),a(r,x),a(r,R),a(r,T);for(let e=0;e<E.length;e+=1)E[e].m(T,null);$||(A=[y(k,"click",t[2]),y(k,"change",t[5])],$=!0)},p(e,[t]){if(1&t&&(k.checked=e[0].showSurveyedDetails),11&t){let n;for(P=e[1],n=0;n<P.length;n+=1){const o=Ge(e,P,n);E[n]?E[n].p(o,t):(E[n]=We(o),E[n].c(),E[n].m(T,null))}for(;n<E.length;n+=1)E[n].d(1);E.length=P.length}1&t&&b(n,"display",!1===e[0].showOptions?"none":"block")},i:e,o:e,d(e){e&&p(n),c(E,e),$=!1,o(A)}}}function He(e,t,n){let{starData:o}=t,{options:i}=t;const r=M();let s=JSON.parse(JSON.stringify(o.starLocations));s.push({key:"ran",name:"Random"});return e.$$set=e=>{"starData"in e&&n(4,o=e.starData),"options"in e&&n(0,i=e.options)},[i,s,function(){n(0,i.showSurveyedDetails=!i.showSurveyedDetails,i),r("saveOptions")},function(){r("saveOptions")},o,function(){i.showSurveyedDetails=this.checked,n(0,i)},function(){i.starLocation=this.__value,n(0,i)},[[]]]}class Fe extends H{constructor(e){super(),q(this,e,He,qe,r,{starData:4,options:0})}}function Be(e){let t,n,i,r,s,c,m,b,w,v,S,k,M,C,x,R;return b=new Fe({props:{starData:Z,options:e[0]}}),b.$on("saveOptions",e[4]),{c(){t=l("div"),n=l("h4"),n.textContent="Star Systems",i=h(),r=l("button"),r.textContent="Star System",s=h(),c=l("button"),c.textContent="(Options)",m=h(),N(b.$$.fragment),w=h(),v=l("h4"),v.textContent="Results",S=h(),k=l("pre"),M=u(e[1]),f(k,"id","results")},m(o,p){d(o,t,p),a(t,n),a(t,i),a(t,r),a(t,s),a(t,c),a(t,m),U(b,t,null),a(t,w),a(t,v),a(t,S),a(t,k),a(k,M),C=!0,x||(R=[y(r,"click",e[4]),y(r,"click",e[3]),y(c,"click",e[2])],x=!0)},p(e,[t]){const n={};1&t&&(n.options=e[0]),b.$set(n),(!C||2&t)&&g(M,e[1])},i(e){C||(L(b.$$.fragment,e),C=!0)},o(e){I(b.$$.fragment,e),C=!1},d(e){e&&p(t),G(b),x=!1,o(R)}}}function Ke(e,t,n){let{options:o}=t,{results:i}=t,r="Waiting on User.";const s=M();function a(){d(),s("saveData",{key:"options",value:o})}function d(){i&&i.starSystem&&n(1,r=Ue(i.starSystem,o))}return k(async()=>{d()}),e.$$set=e=>{"options"in e&&n(0,o=e.options),"results"in e&&n(5,i=e.results)},[o,r,function(){n(0,o.showOptions=!o.showOptions,o),a()},function(){n(5,i.starSystem=$e(Z,o),i),n(1,r=Ue(i.starSystem,o)),a(),s("saveData",{key:"results",value:i})},a,i]}var Ve={jobTypes:[{d66:12,type:"Routine",destination:"Within system",complications:0,baseReward:"20+D6",extraRewards:0},{d66:15,type:"Routine",destination:"Within system",complications:1,baseReward:"20+D6",extraRewards:0},{d66:23,type:"Routine",destination:"Within system",complications:1,baseReward:"30+D6",extraRewards:0},{d66:25,type:"Easy",destination:"Within system",complications:0,baseReward:"20+2D6",extraRewards:0},{d66:31,type:"Easy",destination:"Nearby system",complications:1,baseReward:"20+2D6",extraRewards:1},{d66:33,type:"Easy",destination:"Nearby system",complications:1,baseReward:"25+2D6",extraRewards:1},{d66:45,type:"Normal",destination:"Nearby system",complications:1,baseReward:"30+3D6",extraRewards:0},{d66:51,type:"Normal",destination:"Nearby system",complications:1,baseReward:"30+3D6",extraRewards:1},{d66:53,type:"Normal",destination:"Nearby system",complications:1,baseReward:"40+3D6",extraRewards:1},{d66:54,type:"Normal",destination:"Faraway system",complications:1,baseReward:"50+4D6",extraRewards:0},{d66:55,type:"Normal",destination:"Faraway system",complications:1,baseReward:"50+4D6",extraRewards:1},{d66:61,type:"Difficult",destination:"Within system",complications:2,baseReward:"60+4D6",extraRewards:1},{d66:63,type:"Difficult",destination:"Nearby system",complications:2,baseReward:"50+4D6",extraRewards:0},{d66:64,type:"Difficult",destination:"Nearby system",complications:2,baseReward:"50+4D6",extraRewards:1},{d66:65,type:"Difficult",destination:"Faraway system",complications:2,baseReward:"50+5D6",extraRewards:1},{d66:66,type:"Difficult",destination:"Faraway system",complications:3,baseReward:"50+5D6",extraRewards:2}],plotTwists:[{d66:15,type:"Mayday",description:"Before (or after) the starship is in hyperspace, the crew receive a distress signal and are obliged by law to assist. Alternatively, the call may come whilst on-planet."},{d66:22,type:"Bad Intel",description:"Key mission information will prove false or very misleading."},{d66:25,type:"Sabotage",description:"A serious malfunction or crisis (fire, etc.) quickly turns out to be sabotage, but who is the saboteur?"},{d66:35,type:"Secret Plot",description:"NPCs or PCs in the game have another agenda that runs counter to that of the players and they are busy working on it."},{d66:43,type:"Murder",description:"An NPC is suddenly murdered. Who did it? Why?"},{d66:46,type:"Flare Event",description:"A burst of stellar radiation reaches the PCs’ location from a red dwarf flare star, a distant neutron star or other phenomenon. This could cause power interruptions, or at the very least complete communications blackouts."},{d66:55,type:"Malfunction",description:"A key component to the mission fails when needed – an airlock or drive, a demolitions charge or diamond cutting drill. What now?"},{d66:64,type:"Time Limit",description:"The mission has a deadline; lives (perhaps their own) are depending on it."},{d66:66,type:"Alien Outbreak",description:"At the heart of this scenario is the presence of the Xenomorph XX121. It may be one egg or dozens; or the massacred remains of an unfortunate group of humans with a Xenomorph warrior still on the prowl. Good luck..."}],spaceTruckers:{employers:[{d66:16,type:"Colony Representative"},{d66:24,type:"Colonial Administration"},{d66:35,type:"Mining Company"},{d66:46,type:"Major Corporation"},{d66:53,type:"Military Officer"},{d66:56,type:"Shipping Corporation"},{d66:63,type:"Finance Bank"},{d66:66,type:"Wealthy Individual"}],rewards:[{d66:13,type:"Discount on new cargo",isMonetaryReward:!1},{d66:16,type:"New, guaranteed contract",isMonetaryReward:!1},{d66:46,type:"Monetary reward",isMonetaryReward:!0},{d66:53,type:"Ship module/feature",isMonetaryReward:!1},{d66:56,type:"Faction contact",isMonetaryReward:!1},{d66:66,type:"Debt cancellation (or credit granted)",isMonetaryReward:!1}],destinations:[{d66:13,description:"Only Coordinates Coordinates for an area in deep space."},{d66:16,description:"Hostile Forest/Jungle/Desert Landing site is planet-side wilderness, far from human habitation, or on an uninhabited world."},{d66:26,description:"Mine A mining facility, far from a colony or starport."},{d66:33,description:"Spaceport Spaceport on an asteroid or moon, or a landing field near a larger settlement."},{d66:36,description:"Asteroid/Moon The surface of an asteroid or a small moon. Vacuum or dangerous atmosphere."},{d66:43,description:"Space Station An orbiting space station."},{d66:46,description:"Earth The busy hub of all interstellar traffic and commerce."},{d66:53,description:"Young Colony A small colony with only a few hundred inhabitants."},{d66:56,description:"Established Colony A busy colony with several thousand people and a thriving, local industry."},{d66:63,description:"Starship A starship in orbit, awaiting your arrival."},{d66:66,description:"Outpost A small outpost, usually planetside. An outpost is commonly just a single complex with a specific function; corporate, military or scientific."}],goods:[{d66:12,type:"Industrial gases",description:"Propylene, acetylene, propane, ethyl-formate, chlorofluorocarbon, ammonia, carbon monoxide, ethylene oxide, hydrogen chloride, sulfur dioxide, sulfur hexafluoride."},{d66:14,type:"Metal ingots or pellets",description:"Gold, platinum, palladium, silver, tungsten, copper, iron, etc."},{d66:16,type:"Colonists",description:"Humans in stasis, ready to begin a colonization project"},{d66:21,type:"Timber",description:"Exotic alien tree products destined for Earth"},{d66:22,type:"Ice/Water",description:"Water, water ice or some other rare frozen solution"},{d66:23,type:"Industrial chemicals",description:"Aluminium Chloride, Aluminium Sulfate, Calcium Acetate, Monosodium Phosphate, Ferric Sulphate, Sodium Hydroxide, Hydrochloric Acid, Sodium Aluminate, Polyaluminium Chloride, Ferrous Chloride, Borate, Potassium Acetate etc."},{d66:24,type:"Fertilizer",description:"Multi-nutrient fertilizer compounds made up of nitrogen, potassium and/or phosphate"},{d66:26,type:"Oil",description:"Crude oil, or liquid petroleum by-products"},{d66:32,type:"Foodstuff",description:"Bulk foods such as chickpeas, soybeans and other legumes, grains (corn, barley, rice, wheat) or refined versions thereof"},{d66:36,type:"Ore",description:"Bauxite (aluminum), galena (lead), pentlandite (nickel), gold-quartz, cassiterite (tin), malachite (copper), magnetite (iron), platinum-bearing sand, trimonite (tungsten)"},{d66:41,type:"Medicinal goods",description:"Vaccines, medicines, disinfectants, surgical gear, scanning machines, hospital beds"},{d66:43,type:"Technical parts",description:"Different makes and types, for suits, refineries, vehicles, power stations, hospitals, prospecting gear, factories, atmospheric processors, weaponry or life support systems"},{d66:45,type:"Starship technical parts",description:"Modules, features, parts for/from dismantled ships"},{d66:46,type:"Pressure suits",description:"Space suits for delivery to the colonies"},{d66:51,type:"Single oversized item",description:"Wind turbines, power station generator, space station hull frame, solar panel assembly, drilling machinery, ore processing mill or furnace"},{d66:52,type:"Vehicles",description:"Diggers, tractors, quad-tracks, all-terrain vehicles, power loaders"},{d66:54,type:"Weapons & armor",description:"Firearms, ammunition and armor for the colonies or remote stations"},{d66:56,type:"Radioactives",description:"Processed uranium cakes or uranium dioxide powder, or fusion plant fuel pellets such as deuterium, tritium, protium or helium-3"},{d66:62,type:"Colony construction",description:"Beams, modules, airlocks, outer shells, roofing material, etc."},{d66:63,type:"Animal feed",description:"Feed concentrates containing grains, high-protein oil meals and byproducts of sugar beet and sugarcane processing"},{d66:65,type:"Livestock/animals",description:"Cattle in stasis, ready for rearing on an off-world colony"},{d66:66,type:"Wreckage/Salvage",description:"Shuttle, or escape/cargo pod requiring investigation and study"}],complications:[{d66:13,type:"Embargo/Quarantine",description:"The destination is placed under quarantine or an embargo."},{d66:16,type:"Intermission",description:"The ship’s computer brings the ship out of hyperspace early, and then wakes the crew. What’s the story?"},{d66:26,type:"Military",description:"A military starship sends over a small search party for a “routine” ICC and customs check. Should the PCs be worried?"},{d66:33,type:"Delay",description:"There is a delay in lift-off/undocking; perhaps fuel for the reaction drives or coolant cannot be pumped aboard. There may be a strike, an administrative hold-up or loading equipment may have broken down."},{d66:43,type:"Maintenance",description:"A critical part (drive pump, plasma coil, coolant pump, water recycler, gravity compensator control unit, sensor gimbal motor, etc.) requires replacement before it fails, requiring most of the crew’s participation."},{d66:53,type:"Waiting game",description:"Problems at the destination mean they aren’t ready to accept the cargo. Can the crew help speed things along?"},{d66:56,type:"Cargo mishap",description:"There is a serious problem with the cargo, either moving, leaking, over-heating or catching fire."},{d66:66,type:"Wreckage",description:"A small piece of wreckage is spotted on the sensor scope; a cargo container, escape pod, frozen corpse, part of a starship—smashed or blown off, etc."}]},colonialMarines:{rewards:[{d66:13,type:"Faction Contact",isMonetaryReward:!1},{d66:16,type:"Ship Module",isMonetaryReward:!1},{d66:46,type:"Monetary Reward",isMonetaryReward:!0},{d66:53,type:"New Gear",isMonetaryReward:!1},{d66:56,type:"New Weapon",isMonetaryReward:!1},{d66:66,type:"Bronze or Silver Star",isMonetaryReward:!1}],missions:[{d66:13,type:"Recon",description:"Scout a location, gather intelligence and then report back."},{d66:15,type:"Assault",description:"Attack and hold an objective by force."},{d66:21,type:"Defense",description:"Defend a location/person/group and repel any attack until relieved or until a set time."},{d66:23,type:"Combat",description:"Patrol Patrol an area, looking for signs of the enemy."},{d66:26,type:"Sabotage",description:"Infiltrate an enemy location and destroy a key asset (bridge, uplink tower, radar dish, etc.)"},{d66:32,type:"Raid",description:"Create chaos and destruction by attacking targets of opportunity behind enemy lines."},{d66:35,type:"Search and Rescue",description:"Search for a downed pilot, lost colonists, etc."},{d66:42,type:"Peace-Keeping",description:"Quell a riot and re-establishing order, or protect lines of communication and essential services until authority can be restored."},{d66:46,type:"Bug Hunt",description:"Exterminate local alien life that is threatening colonists on an off-world planet."},{d66:52,type:"Civil Evacuation",description:"A colonial or space station population needs immediate rescue from a crisis or natural catastrophe."},{d66:54,type:"Space Assault",description:"A space station, orbital platform or starship must be captured (or recaptured) by boarding it and seizing control."},{d66:55,type:"Space Traffic Security",description:"The marines are aboard a military vessel that makes customs and security checks on civilian ships in the area, looking for illegal drugs or other goods, arms, workers being trafficked etc."},{d66:62,type:"Snatch and Grab",description:"Locate and seize an item, person or group from behind enemy lines. It may be hostages, POWs, an enemy commander or a piece of high technology."},{d66:66,type:"Investigation",description:"A station, colony or installation is not responding to Network communications. Investigate."}],objectives:[{d66:23,type:"Colony",description:"Either an established or young colony."},{d66:26,type:"Isolated Outpost",description:"A research station or remote military outpost."},{d66:32,type:"Starship in Orbit",description:"An enemy ship, or perhaps an abandoned ship."},{d66:34,type:"Orbital Space Station",description:"A transfer station, space colony or orbital survey platform."},{d66:36,type:"Wilderness Location",description:"Far from civilization, a remote spot on a planetary surface."},{d66:43,type:"Planetary War Zone",description:"An active war zone, fought between colonies, corporations or nation states, with ruined buildings, wrecked vehicles and fortifications."},{d66:46,type:"Isolated Spaceport",description:"A landing field far from any colony, owned by a corporation, individual or military."},{d66:52,type:"Scattered Homesteads",description:"Colonial farmsteads, far from civilization and scattered across the planetary surface."},{d66:55,type:"Mine and Refinery",description:"A huge mining and refining complex, with hundreds of workers and executives."},{d66:61,type:"Prison Complex",description:"Remote penal colony, housing hardened and violent inmates."},{d66:63,type:"Radar/Sensor Site",description:"An automated sensor site, perhaps with its own defenses."},{d66:66,type:"Impenetrable Area",description:"Harsh, inhospitable wilderness such as thick jungle, deep caverns or volcanic lava fields."}],complications:[{d66:12,type:"Role Reversal",description:"The marines find out that the bad guys are actually good guys."},{d66:15,type:"Passengers",description:"During the mission, the marines may find themselves saddled with enemy prisoners or innocent civilians that they must now guard/protect."},{d66:16,type:"Observer",description:"The team is saddled with a reporter/cameraman or a senior officer who gets in the way and asks stupid questions."},{d66:23,type:"Company Meddling",description:"A corporate representative joins the team and is there to ensure the company’s assets and interests are protected."},{d66:25,type:"Civilian Advisor",description:"Technical knowledge or on-site advice is provided by a civilian advisor who has little knowledge of military operations. They may get scared or panic easily."},{d66:32,type:"Captured",description:"An NPC or even a PC is captured by hostile forces."},{d66:36,type:"Gear Problems",description:"The team has faulty gear. It could be anything from ammo or weapons to sensors or vehicles."},{d66:44,type:"Tough Resistance",description:"The opponents are far tougher and more ruthless than expected."},{d66:46,type:"Trapped",description:"During the mission, the team discovers that it is completely trapped, either physically, or tactically."},{d66:53,type:"Under Fire!",description:"The mission location is hit by an air-strike, mines, or heavy weapons, possibly the result of a mishap by their own forces!"},{d66:55,type:"Glory Hound",description:"A new commanding office, a lieutenant, is keen to get himself a medal or commendation, and pushes the marine squad into perilous situations. Someone is going to get killed!"},{d66:62,type:"Traps",description:"There are hidden dangers across the mission site, varying with the nature of the location. They may be mines, IEDs, predatory carnivorous plants or improvised booby traps."},{d66:64,type:"Restrictions",description:"There are tactical restrictions placed on the mission—how the squad acts, where it can go, what weapons it can use, etc."},{d66:66,type:"Rookie",description:"Commander A new platoon commander is a green, untested and untried lieutenant. He’s read the books, survived the training and ran the simulations—but he’ll go to pieces once the bullets start flying."}]},explorers:{sponsors:[{d66:16,type:"Colonial Administration"},{d66:26,type:"Scientist"},{d66:36,type:"Group of Investors"},{d66:46,type:"Corporate Representative"},{d66:56,type:"Company Mining Rep"},{d66:66,type:"Government Rep"}],rewards:[{d66:13,type:"Funds for an expedition of their own",isMonetaryReward:!1},{d66:16,type:"Ship module",isMonetaryReward:!1},{d66:46,type:"Monetary reward",isMonetaryReward:!0},{d66:53,type:"Contract with a mining company",isMonetaryReward:!1},{d66:56,type:"Gear",isMonetaryReward:!1},{d66:66,type:"Knowledge to use or sell",isMonetaryReward:!1}],missions:[{d66:16,type:"Salvage",description:"Locate an abandoned or destroyed ship, station or planetary facility. Recover items of value and avoid the wreck’s fate…"},{d66:24,type:"Survey",description:"Map a location or an area for the employer. Report back with sensor maps and other collected data."},{d66:32,type:"Mining",description:"Begin test-mining to determine the viability for later investors. The substance being recovered may be cobalt, gold, tungsten, oil, natural gas, lead or something else."},{d66:36,type:"Colony Assistance",description:"Assist a start-up colony with gear, information or expert knowledge about surface exploration, medicine, prospecting, construction or something else."},{d66:45,type:"Prospecting",description:"Command a prospecting expedition or secure a claim somewhere. It could be mining, asteroid harvesting, logging or gas trawling."},{d66:52,type:"Data Collection",description:"Find a specific piece of information for the employer. Sometimes, the group does not know the intended use of the information."},{d66:55,type:"Courier Make",description:"sure sensitive information, resources or goods are delivered safely from the employer to the receiver—without delay."},{d66:62,type:"Anomaly Exploration",description:"A unique phenomenon requires speedy investigation—is it a threat, or something that can be exploited for profit? It may be a wormhole, gravity lens, powerful radiation emission or other anomaly."},{d66:66,type:"Rescue Expedition",description:"Rescue a group, colony, survey expedition or correspondents from an attack or some other peril. Often, the PCs will be unaware of the fate of the missing victims."}],targetAreas:[{d66:14,type:"Abandoned Orbital Station",description:"Forgotten, abandoned, barely operational."},{d66:21,type:"Rogue Asteroid",description:"A fast-moving interstellar asteroid or planet passing through a star system."},{d66:24,type:"Abandoned Mine",description:"A failed mining project with tunnels and buildings, now abandoned and decaying."},{d66:31,type:"Moon",description:"The rocky moon of a gas giant or planet."},{d66:35,type:"Asteroid Belt",description:"An asteroid that sits deep within a dense asteroid belt."},{d66:36,type:"Colonized World",description:"The target area sits in wilderness on a world that already contains colonists."},{d66:43,type:"Terrestrial Planet",description:"The target area sits on an uninhabited terrestrial planet."},{d66:44,type:"Abandoned Colony",description:"A failed colony with buildings and structures abandoned and decaying."},{d66:51,type:"Ice Planet",description:"The target area sits on an uninhabited ice planet."},{d66:63,type:"Wreckage",description:"The smashed wreckage of a spacecraft, roll again for its current location."},{d66:66,type:"Comet",description:"A comet heading close to the system’s star, that contains valuable chemical compounds and raw materials."}],complications:[{d66:21,type:"Natural Phenomenon",description:"Some severe natural event occurs during the mission: a rapid temperature change, forest fire, hurricane, tsunami, earthquake, mudslide, etc."},{d66:32,type:"Survey Blues",description:"The target area is either difficult to locate, or difficult to survey safely or efficiently."},{d66:35,type:"Presumed Missing",description:"If the PCs gained a permit to survey their target area, they may or may not realize it is inherited from a previous expedition that vanished without a trace."},{d66:44,type:"Rival Expedition",description:"A competing party has the same goal as the expedition and tries to get there first or stop the PCs. They have roughly the same gear as the PCs."},{d66:52,type:"Quarantine",description:"The target area is under quarantine or off-limits, possibly for reasons unknown. The expedition has no permit and will be breaking the law if they choose to proceed."},{d66:62,type:"Deadly Treasure",description:"Some terrible object(s) exist in the target area, unbeknownst to the PCs. This deadly find may be nuclear waste, a dump of biological weapons, a nest of Xenomorph eggs or something equally horrific and life-threatening!"},{d66:66,type:"Surveillance",description:"The expedition is under surveillance by the military, government or some other party. They will not intervene, although they may communicate their presence to the team. Why are they watching? What do they really want?"}]}};const Je=e=>{let t=ye(e.jobTypes);return t.baseRewardAmount=ge(t.baseReward),t},Xe=e=>{let t=0;switch(e.campaignType){case"spaceTruckers":case"explorers":t+=e.jobType.baseRewardAmount;break;case"colonialMarines":t+=0;break;default:throw new Error("Unknown campaignType="+e.campaignType)}for(const n of e.rewards)n.isMonetaryReward&&(t+=parseInt(ge(e.jobType.baseReward),10));return t},Ye=(e,t)=>{for(let n=0;n<e.jobType.complications;n++)e.complications.push(fe(t,e.complications))};var Qe=(e,t={})=>{let n={jobName:"Cargo Run",campaignType:"spaceTruckers",jobType:Je(e),employer:ye(e.spaceTruckers.employers),destination:ye(e.spaceTruckers.destinations),goods:ye(e.spaceTruckers.goods),complications:[],plotTwist:ye(e.plotTwists),rewards:[],totalMonetaryReward:0};for(let t=0;t<n.jobType.extraRewards;t++)n.rewards.push(fe(e.spaceTruckers.rewards,n.rewards));return n.totalMonetaryReward=Xe(n),Ye(n,e.spaceTruckers.complications),n},Ze=(e,t={})=>{let n={jobName:"Expedition",campaignType:"explorers",jobType:Je(e),sponsor:ye(e.explorers.sponsors),mission:ye(e.explorers.missions),targetArea:ye(e.explorers.targetAreas),complications:[],plotTwist:ye(e.plotTwists),rewards:[],totalMonetaryReward:0};for(let t=0;t<n.jobType.extraRewards;t++)n.rewards.push(fe(e.explorers.rewards,n.rewards));return n.totalMonetaryReward=Xe(n),Ye(n,e.explorers.complications),n},et=(e,t={})=>{let n={jobName:"Military Mission",campaignType:"colonialMarines",jobType:Je(e),mission:ye(e.colonialMarines.missions),objective:ye(e.colonialMarines.objectives),complications:[],plotTwist:ye(e.plotTwists),rewards:[],totalMonetaryReward:0};for(let t=0;t<n.jobType.extraRewards;t++)n.rewards.push(fe(e.colonialMarines.rewards,n.rewards));return n.totalMonetaryReward=Xe(n),Ye(n,e.colonialMarines.complications),n};const tt=(e,t)=>{let n=[];return n.push("Employer:          "+e.employer.type),n.push("Destination:       "+e.destination.description),n.push(`Goods:             ${e.goods.type} (${e.goods.description})`),n.join("\n")},nt=(e,t)=>{let n=[];return n.push(`Mission:           ${e.mission.type} (${e.mission.description})`),n.push(`Objective:         ${e.objective.type} (${e.objective.description})`),n.join("\n")},ot=(e,t)=>{let n=[];return n.push("Sponsor:           "+e.sponsor.type),n.push(`Mission:           ${e.mission.type} (${e.mission.description})`),n.push(`Target Area:       ${e.targetArea.type} (${e.targetArea.description})`),n.join("\n")},it=e=>{let t=[];if(e.rewards.length>0)for(const n of e.rewards)n.isMonetaryReward||t.push(n.type);return 0===t.length&&t.push("N/A"),t.join(", ")},rt=e=>{let t=[];for(const[n,o]of e.complications.entries())t.push(`Complication #${n+1}:   ${o.type} (${o.description})`);return t.join("\n")};var st=(e,t={})=>{let n=[];switch(n.push(`Job Type:          ${e.jobType.type} ${e.jobName}`),n.push("Destination:       "+e.jobType.destination),e.campaignType){case"spaceTruckers":n.push(tt(e));break;case"colonialMarines":n.push(nt(e));break;case"explorers":n.push(ot(e));break;default:throw new Error("Unknown campaignType="+e.campaignType)}return e.complications.length>0&&n.push(rt(e)),n.push(`Plot Twist:        ${e.plotTwist.type} (${e.plotTwist.description})`),e.totalMonetaryReward>0&&n.push(`Monetary Reward:   ${e.totalMonetaryReward} UAD`),n.push("Extra Rewards:     "+it(e)),n.join("\n")};function at(t){let n,i,r,s,c,b,w,v,S,k,M,C,x,R,T;return{c(){n=l("div"),i=l("h4"),i.textContent="Jobs",r=h(),s=l("button"),s.textContent="Cargo",c=h(),b=l("button"),b.textContent="Military",w=h(),v=l("button"),v.textContent="Expedition",S=h(),k=l("h4"),k.textContent="Results",M=h(),C=l("pre"),x=u(t[0]),f(C,"id","results")},m(e,o){d(e,n,o),a(n,i),a(n,r),a(n,s),a(n,c),a(n,b),a(n,w),a(n,v),a(n,S),a(n,k),a(n,M),a(n,C),a(C,x),R||(T=[y(s,"click",m(t[1])),y(b,"click",m(t[2])),y(v,"click",m(t[3]))],R=!0)},p(e,[t]){1&t&&g(x,e[0])},i:e,o:e,d(e){e&&p(n),R=!1,o(T)}}}function dt(e,t,n){let{options:o}=t,{results:i}=t,r="Waiting on User.";const s=M();function a(){s("saveData",{key:"results",value:i})}return k(async()=>{i&&i.job&&n(0,r=st(i.job,o))}),e.$$set=e=>{"options"in e&&n(5,o=e.options),"results"in e&&n(4,i=e.results)},[r,function(){n(4,i.job=Qe(Ve,o),i),n(0,r=st(i.job,o)),a()},function(){n(4,i.job=et(Ve,o),i),n(0,r=st(i.job,o)),a()},function(){n(4,i.job=Ze(Ve,o),i),n(0,r=st(i.job,o)),a()},i,o]}var pt={starSystemEncounters:[{d66:10,type:null},{d66:11,type:"Research Vessel"},{d66:12,type:"Asteroid Drill Ship"},{d66:13,type:"Small Survey Ship"},{d66:14,type:"Colony Supply Vessel"},{d66:15,type:"Military Recon Craft"},{d66:16,type:"Private Executive Transport"},{d66:21,type:"Hypersleep Transport"},{d66:22,type:"Light Shuttle"},{d66:23,type:"Bulk Freighter"},{d66:24,type:"Liquefied Gas Transport"},{d66:25,type:"Tugship Towing A Platform"},{d66:26,type:"Bulk Freighter"},{d66:31,type:"Container Ship"},{d66:32,type:"Colony Supply Vessel"},{d66:33,type:"Petroleum Carrier"},{d66:34,type:"Salvage Ship"},{d66:35,type:"Military Patrol Craft"},{d66:36,type:"Emergency Response Vessel"},{d66:41,type:"Military Missile Cruiser"},{d66:43,type:"Heavy Shuttle"},{d66:44,type:"Fast Courier Vessel"},{d66:45,type:"Modular Cargo Transport"},{d66:46,type:"Large Space-Station"},{d66:51,type:"Light Tugship"},{d66:52,type:"In-System Shuttle"},{d66:53,type:"Container Ship"},{d66:54,type:"Communications Relay Station"},{d66:55,type:"Military Dropship In Orbit"},{d66:56,type:"In-System Shuttle"},{d66:61,type:"Customs Cutter"},{d66:62,type:"In-System Shuttle"},{d66:63,type:"Military Assault Ship"},{d66:64,type:"Corporate Space-Station"},{d66:65,type:"Private Security Cutter"},{d66:66,type:"Mobile Construction Rig"}],shipReactions:[{"2d6":2,type:"UNUSUAL. May be on an unusual trajectory, have the registration of a missing ship or simply refuse to respond to the PCs’ signals."},{"2d6":4,type:"DISMISSIVE. If asked for information or assistance, the ship will decline."},{"2d6":8,type:"RADIO SILENCE. Ignores the PCs’ ship, but polite if contacted."},{"2d6":10,type:"FRIENDLY. May pass on information or advice, if relevant."},{"2d6":11,type:"ASSISTANCE. May request information, or ask for assistance or a spare part etc."},{"2d6":12,type:"FAMILIAR VESSEL. The ship is known to you, you may even know the crew."}],surfaceEncounters:[{"3d6":5,uninhabited:"Temperature Swing",colonized:"Temperature Swing",description:"On a cold world, temperatures will drop dramatically; on a hot world they will rise."},{"3d6":7,uninhabited:"Unstable Ground",colonized:"Unstable Ground",description:"Ice, soft sand, swamp or other tricky ground."},{"3d6":8,uninhabited:"Diversion",colonized:"Diversion",description:"An escarpment, canyon or other feature forces the PCs in an undesirable direction for D6 hours."},{"3d6":9,uninhabited:"Cross Ravine/River",colonized:"Cross Ravine/River",description:"A ravine or river can be negotiated with great care, but it takes D6 hours and some tense moments."},{"3d6":10,uninhabited:"Rough Terrain",colonized:"Rough Terrain",description:"Rocky ground or thick vegetation slows travel to half speed for D6 hours."},{"3d6":11,uninhabited:null,colonized:null,description:null},{"3d6":12,uninhabited:null,colonized:"Wildcatters",description:"Prospectors in a single tractor."},{"3d6":13,uninhabited:null,colonized:"Mining Operation",description:"Temporary drilling or mining operation."},{"3d6":14,uninhabited:null,colonized:"Lone Colonist",description:"On foot or in a vehicle."},{"3d6":15,uninhabited:null,colonized:"Scientists",description:"In a vehicle, studying some natural phenomenon, plant-life or geology."},{"3d6":16,uninhabited:null,colonized:"Abandoned Kit",description:"Useless, valuable or wrecked…"},{"3d6":18,uninhabited:null,colonized:"Explorers",description:"In a vehicle, mapping the local area and cataloging what they find."}],colonyEncounters:[{d66:11,type:"Rowdy miners"},{d66:12,type:"Technicians making repairs"},{d66:13,type:"Exhausted workers arriving"},{d66:14,type:"Workers preparing to leave"},{d66:15,type:"Supplies being delivered"},{d66:16,type:"Colony workers off-duty"},{d66:21,type:"Family off-duty together"},{d66:22,type:"Medical crisis "},{d66:23,type:"Colony manager and deputy "},{d66:24,type:"Loud argument "},{d66:25,type:"Drunken revelers "},{d66:26,type:"Kids playing "},{d66:31,type:"Administrator making the rounds "},{d66:32,type:"Marshal conducting an investigation "},{d66:33,type:"Cocky shuttle pilot "},{d66:34,type:"Unhappy off-world official "},{d66:35,type:"Sly corporate representative "},{d66:36,type:"Harassed chief engineer "},{d66:41,type:"Scientists debating "},{d66:42,type:"Drug deal in progress "},{d66:43,type:"Overhear gossip "},{d66:44,type:"Colonist threatening each other"},{d66:45,type:"Corporate investigator"},{d66:46,type:"Miners relaxing"},{d66:51,type:"Colony damage needing repair"},{d66:52,type:"Operations team having a discussion"},{d66:53,type:"Computer engineers at work"},{d66:54,type:"Unattended supplies"},{d66:55,type:"Maintenance crew"},{d66:56,type:"Marshal searching or arresting a suspect"},{d66:61,type:"Visitors from another colony"},{d66:62,type:"Security cordon"},{d66:63,type:"Mysterious scientist"},{d66:64,type:"Management meeting"},{d66:65,type:"Helpful android"},{d66:66,type:"Cleaning crew"},{d66:71,type:"Starship crew off-duty"},{d66:72,type:"Thugs"},{d66:73,type:"Security patrol"},{d66:74,type:"Colonial official with entourage"},{d66:75,type:"Accident in progress"},{d66:76,type:"Colonists on strike or protesting"}]};var ct=(e,t=0)=>({date:new Date,encounter:ye(e.colonyEncounters,t)}),lt=(e,t=0)=>({date:new Date,encounter:ye(e.starSystemEncounters,t),reaction:ce(e.shipReactions)}),ut=(e,t)=>({date:new Date,type:t,encounter:le(e.surfaceEncounters)});var ht=(e,t={})=>"Colony Encounter: "+e.encounter.type,yt=(e,t={})=>`Star System Encounter: ${e.encounter.type}\nShip Reaction:         ${e.reaction.type}`,mt=(e,t={})=>{let n=["Date:        "+e.date.toString()];return e.encounter[e.type]?(n.push("Type:        "+e.encounter[e.type]),e.encounter.description&&n.push("Description: "+e.encounter.description)):n.push("Type:        (No Encounter)"),n.join("\n")};function ft(t){let n,i,r,s,c,m,b,w,v,S,k,M,C,x,R,T,$,A,P,E,z,_,D,j,O,L,I;return{c(){n=l("div"),i=l("h4"),i.textContent="Star System Encounters",r=h(),s=l("button"),s.textContent="System",c=h(),m=l("button"),m.textContent="Rim",b=h(),w=l("button"),w.textContent="Uncharted",v=h(),S=l("h4"),S.textContent="Surface Encounters",k=h(),M=l("button"),M.textContent="Uninhabited",C=h(),x=l("button"),x.textContent="Colonized",R=h(),T=l("h4"),T.textContent="Colony Encounters",$=h(),A=l("button"),A.textContent="Young",P=h(),E=l("button"),E.textContent="Established",z=h(),_=l("h4"),_.textContent="Results",D=h(),j=l("pre"),O=u(t[0]),f(j,"id","results")},m(e,o){d(e,n,o),a(n,i),a(n,r),a(n,s),a(n,c),a(n,m),a(n,b),a(n,w),a(n,v),a(n,S),a(n,k),a(n,M),a(n,C),a(n,x),a(n,R),a(n,T),a(n,$),a(n,A),a(n,P),a(n,E),a(n,z),a(n,_),a(n,D),a(n,j),a(j,O),L||(I=[y(s,"click",t[6]),y(m,"click",t[7]),y(w,"click",t[8]),y(M,"click",t[9]),y(x,"click",t[10]),y(A,"click",t[11]),y(E,"click",t[12])],L=!0)},p(e,[t]){1&t&&g(O,e[0])},i:e,o:e,d(e){e&&p(n),L=!1,o(I)}}}function gt(e,t,n){let{options:o}=t,{results:i}=t,r="Waiting on User.";const s=M();function a(e=0){n(4,i.starSystemEncounter=lt(pt,e),i),n(0,r=yt(i.starSystemEncounter,o)),c()}function d(e){n(4,i.surfaceEncounter=ut(pt,e),i),n(0,r=mt(i.surfaceEncounter,o)),c()}function p(e){n(4,i.colonyEncounter=ct(pt,e),i),n(0,r=ht(i.colonyEncounter,o)),c()}function c(){s("saveData",{key:"results",value:i})}k(async()=>{i&&(i.surfaceEncounter?n(0,r=mt(i.surfaceEncounter,o)):i.starSystemEncounter?n(0,r=yt(i.starSystemEncounter,o)):i.colonyEncounter&&n(0,r=ht(i.colonyEncounter,o)))});return e.$$set=e=>{"options"in e&&n(5,o=e.options),"results"in e&&n(4,i=e.results)},[r,a,d,p,i,o,e=>a(),e=>a(-3),e=>a(-5),e=>d("uninhabited"),e=>d("colonized"),e=>p(0),e=>p(1)]}function bt(t){let n,o,i;return{c(){n=l("h4"),n.textContent="Oops!",o=h(),i=l("p"),i.textContent="Page not found. Might be a xenomorph."},m(e,t){d(e,n,t),d(e,o,t),d(e,i,t)},p:e,i:e,o:e,d(e){e&&p(n),e&&p(o),e&&p(i)}}}let wt=[{path:"/",title:"Home",component:class extends H{constructor(e){super(),q(this,e,null,Q,r,{})}}},{path:"/star-systems",title:"Star Systems",component:class extends H{constructor(e){super(),q(this,e,Ke,Be,r,{options:0,results:5})}}},{path:"/jobs",title:"Jobs",component:class extends H{constructor(e){super(),q(this,e,dt,at,r,{options:5,results:4})}}},{path:"/encounters",title:"Encounters",component:class extends H{constructor(e){super(),q(this,e,gt,ft,r,{options:5,results:4})}}},{path:"*",component:class extends H{constructor(e){super(),q(this,e,null,bt,r,{})}},isNav:!1}];function vt(e,t,n){const o=e.slice();return o[8]=t[n],o[10]=n,o}function St(e){let t,n,o,i,r,c,g,b=e[8].title+"",w=e[10]>0&&function(e){let t;return{c(){t=u("·")},m(e,n){d(e,t,n)},d(e){e&&p(t)}}}();function v(...t){return e[6](e[8],...t)}return{c(){w&&w.c(),t=h(),n=l("a"),o=u(b),f(n,"href",i=(e[2]?e[2]+"/":"")+"#!"+e[8].path),f(n,"class",r=s(e[3].path===e[8].path?"active":"")+" svelte-81onu1")},m(e,i){w&&w.m(e,i),d(e,t,i),d(e,n,i),a(n,o),c||(g=y(n,"click",function(e){return function(t){return t.stopPropagation(),e.call(this,t)}}(m(v))),c=!0)},p(t,o){e=t,4&o&&i!==(i=(e[2]?e[2]+"/":"")+"#!"+e[8].path)&&f(n,"href",i),8&o&&r!==(r=s(e[3].path===e[8].path?"active":"")+" svelte-81onu1")&&f(n,"class",r)},d(e){w&&w.d(e),e&&p(t),e&&p(n),c=!1,g()}}}function kt(e){let t,n,i,r,s,y,m,g,b,w,v,S,k,M,C,x,R,T,$,A,P=X+"",E=J+"",z=wt.filter(Mt),_=[];for(let t=0;t<z.length;t+=1)_[t]=St(vt(e,z,t));var D=e[3].component;function j(e){return{props:{options:e[0],results:e[1]}}}return D&&(m=new D(j(e)),m.$on("saveData",e[7])),{c(){t=l("main"),n=l("h2"),n.textContent=""+V,i=h(),r=l("nav");for(let e=0;e<_.length;e+=1)_[e].c();s=h(),y=l("div"),m&&N(m.$$.fragment),g=h(),b=l("footer"),w=l("small"),v=u("See the "),S=l("a"),k=u("github repo"),C=u(" for details. "),x=u(P),R=u(" Last updated "),T=u(E),$=u("."),f(y,"class","page"),f(S,"href",M=Y),f(S,"class","svelte-81onu1")},m(e,o){d(e,t,o),a(t,n),a(t,i),a(t,r);for(let e=0;e<_.length;e+=1)_[e].m(r,null);a(t,s),a(t,y),m&&U(m,y,null),a(t,g),a(t,b),a(b,w),a(w,v),a(w,S),a(S,k),a(w,C),a(w,x),a(w,R),a(w,T),a(w,$),A=!0},p(e,[t]){if(28&t){let n;for(z=wt.filter(Mt),n=0;n<z.length;n+=1){const o=vt(e,z,n);_[n]?_[n].p(o,t):(_[n]=St(o),_[n].c(),_[n].m(r,null))}for(;n<_.length;n+=1)_[n].d(1);_.length=z.length}const n={};if(1&t&&(n.options=e[0]),2&t&&(n.results=e[1]),D!==(D=e[3].component)){if(m){O={r:0,c:[],p:O};const e=m;I(e.$$.fragment,1,0,()=>{G(e,1)}),O.r||o(O.c),O=O.p}D?(m=new D(j(e)),m.$on("saveData",e[7]),N(m.$$.fragment),L(m.$$.fragment,1),U(m,y,null)):m=null}else D&&m.$set(n)},i(e){A||(m&&L(m.$$.fragment,e),A=!0)},o(e){m&&I(m.$$.fragment,e),A=!1},d(e){e&&p(t),c(_,e),m&&G(m)}}}const Mt=e=>!1!==e.isNav;function Ct(e,t,n){let{options:o}=t,{results:i}=t,{isLocal:r}=t,s="";r||(s="/alienrpg",K.base(s));let a=wt[0];for(const e of wt)K(e.path,()=>{n(3,a=e)});const d=e=>{K(e.path)};K.start({click:!1,hashbang:!0});return e.$$set=e=>{"options"in e&&n(0,o=e.options),"results"in e&&n(1,i=e.results),"isLocal"in e&&n(5,r=e.isLocal)},[o,i,s,a,d,r,(e,t)=>d(e),function(t){!function(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(e=>e(t))}(e,t)}]}var xt={_comments:["Default options for the UI. Saved to window.localStorage."],starLocation:"ran",showSurveyedDetails:!1,showOptions:!1,showUI:"starSystems"};let Rt=window.sessionStorage.getItem("options"),Tt=Rt?JSON.parse(Rt):xt,$t=window.sessionStorage.getItem("results"),At=$t?JSON.parse($t):{},Pt="localhost"===window.location.hostname;const Et=new class extends H{constructor(e){super(),q(this,e,Ct,kt,r,{options:0,results:1,isLocal:5})}}({target:document.body,props:{isLocal:Pt,options:Tt,results:At}});return Et.$on("saveData",e=>{window.sessionStorage.setItem(e.detail.key,JSON.stringify(e.detail.value))}),Et}();
//# sourceMappingURL=bundle.js.map
